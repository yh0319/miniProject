<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

.info {
    background-color: #f0f2f5;
    border-left: 5px solid #b8d9f3;
    margin-bottom: 20px;
    padding : 5px;
    line-height: 30px;
}

.subtitle{
    font-size: 20px;
    font-weight: bold;
}
</style>

</head>
<body>

<h2>Hadoop 설치하기</h2>

<hr color="blue">

<div class="subtitle">
    1. 가상머신 설치하기</div>
<br><br>

<div class="info">
    1. 운영체제 종류를 Linux, 버전을 Red Hat(64-bit)로 설정해 줍니다<br>
    2. 메모리 크기는 6144mb로 입력하고 만들기 버튼을 누릅니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/1.PNG" width="800" height="600">
    <br><br>
    3. disk size를 64GB로 설정합니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/2.PNG" width="800" height="600">
    <br><br>
    4. 가상머신 실행 전, 마우스 오른쪽 클릭->설정 버튼을 누릅니다.<br>
    5. 좌측 목록에서 시스템 클릭 후 프로세서 탭에서 CPU개수를 2개로 설정합니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/3.PNG" width="800" height="600">
    <br><br>
    6. 좌측 목록에서 저장소에서 컨트롤러:IDE 비어있음을 CentOS7로 바꿔줍니다. 
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/4.PNG" width="800" height="600">
    <br><br>
    7. 좌측 목록에서 네트워크 클릭 후 어댑터2 탭에서 다음과 같이 설정해 줍니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/5.PNG" width="800" height="600">
    <br><br>
    8. Install CentOS7 을 클릭해 설치해 줍니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/6.PNG" width="800" height="600">
    <br><br>
    9. 한국어 클릭 -> 계속진행
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/7.PNG" width="800" height="600">
    <br><br>
    10. 다음과 같이 창이 뜨고, 여기서 자동 파티션 설정과 네트워크 및 호스트명을 클릭할 것입니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/8.PNG" width="800" height="600">
    <br><br>
    11. 자동 파티션 설정을 클릭하고 들어와서 파티션을 설정합니다 클릭 완료를 누릅니다. 
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/9.PNG" width="800" height="600">
    <br><br>
    12. + 버튼을 눌러 다음 화면과 같이 파티션을 설정해 줍니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/10.PNG" width="800" height="600">
    <br><br>
    13. 네트워크&호스트 이름에 들어가 이더넷 상태를 모두 켬으로 해주고, 완료를 누릅니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/11.PNG" width="800" height="600">
    <br><br>
    14. 설치를 시작하고 root 사용자의 암호를 설정해 줍니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/12.PNG" width="800" height="600">
    <br><br>
    15. 설치를 기다립니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/13.PNG" width="800" height="600">
    <br><br>
    16. 설치가 완료되면 재부팅 버튼을 누르고 root계정으로 로그인 합니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/14.PNG" width="800" height="600">
    <br><br>
    17. pwd로 현재 경로를 확인하고 ls로 파일 및 디렉토리를 확인합니다.<br>
    # anaconda파일은 저자의 개인 PC 설정에 따른 것임으로 없어도 무방합니다.
    <br><br>
    &nbsp;&nbsp; <img src="1.가상환경/15.PNG" width="800" height="600">
    <br><br>

</div>
<br><br><br><br>



<div class="subtitle">
    2. 네트워크 설정하기</div>
<br><br>
<div class="info">
        1. ifconfig로 network를 확인합니다.
        <br><br>
        &nbsp;&nbsp; <img src="2. 네트워크 설정/16.PNG" width="800" height="600">
        <br><br>
        2. ifconfig command를 찾을 수 없으면<br>
        &nbsp; #yum install net-tools -y 로 설치합니다.
        <br><br>
        &nbsp;&nbsp; <img src="2. 네트워크 설정/17.PNG" width="800" height="600">
        <br><br>
        3. 설치가 완료 되면,<br>
        &nbsp;#cd /etc/sysconfig/network-scripts/ <br>
        &nbsp;#ls
        <br><br>
        &nbsp;&nbsp; <img src="2. 네트워크 설정/18.PNG" width="800" height="600">
        <br><br>
        4. #vi ifcfg-enp08 로 접속합니다. 
        <br><br>
        &nbsp;&nbsp; <img src="2. 네트워크 설정/19.PNG" width="800" height="600">
        <br><br>
        5. 위 편집창을 아래와 같이 변경합니다. 
        <br><br>
        &nbsp;&nbsp; <img src="2. 네트워크 설정/20.PNG" width="800" height="600">
        <br><br>
        6. #service network restart
        <br><br>
        &nbsp;&nbsp; <img src="2. 네트워크 설정/21.PNG" width="800" height="600">
        <br><br>
        7. ifconfig 고정된 네트워크를 확인합니다!
        <br><br>
        &nbsp;&nbsp; <img src="2. 네트워크 설정/22.PNG" width="800" height="600">
        <br><br>
    </div>
    <br><br><br><br>



    <div class="subtitle">
            3. 자바 설치하기</div>
        <br><br>
        <div class="info">
                1. MobaXterm으로 접속,<br>
                #yum install wget -y
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/1.PNG" width="800" height="600">
                <br><br>
                2. wget 명령어로 자바압축파일을 받습니다.
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/2.PNG" width="800" height="600">
                <br><br>
                3. 설치가 완료 되면,<br>
                &nbsp;#yum localinstall 0y jdk-8u191-linux-x64.rpm 
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/3.PNG" width="800" height="600">
                <br><br>
                4. #rm jdk-8u191-linux-x64<br>
                # cd /etc/proflie.d/
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/4.PNG" width="800" height="600">
                <br><br>
                5. #vi java.sh 아래의 내용을 입력합니다.<br>
                export JAVA_HOME=/usr/java/jdk1.8.0_191-amd64<br>
                export JRE_HOME=/usr/java/jdk1.8.0_191-amd64/jre<br>
                export CLASSPATH=$JAVA_HOME/lib:.<br>
                export PATH=$PATH:$JAVA_HOME/bin<br>
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/5.PNG" width="800" height="600">
                <br><br>
                6. ctrl+d로 logout 후 다시 로그인 해 java -version 확인
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/6.PNG" width="800" height="600">
                <br><br>
               
            </div>
            <br><br><br>


     <div class="subtitle">
             4. host 그룹 생성하기</div>
        <br><br>  
        <div class="info">
                1. 아래와 같이 hadoop그룹 생성, host 추가하고 ping으로 확인해줍니다.<br>
                &nbsp;sudo groupadd hadoop<br>
                &nbsp;sudo useradd -d /home/hadoop -g hadoop hadoop<br>
                &nbsp;sudo passwd hadoop<br>
                &nbsp;echo '192.168.103.231 h1' >> /etc/hosts<br>
                &nbsp;echo '192.168.103.232 h2' >> /etc/hosts<br>
                &nbsp;echo '192.168.103.233 h3' >> /etc/hosts<br>
                &nbsp;echo '192.168.103.234 h4' >> /etc/hosts<br>
                &nbsp;ping h1, ping h2, ping h3, ping h4로 확인
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/7.PNG" width="800" height="600">
                <br><br>
            </div>
            <br><br><br>
   
    <div class="subtitle">
            5. SSH keygen 생성하기</div>
        <br><br>
        <div class="info">
                1. 하둡계정으로 이동해서 키젠 생성후, 각 계정으로 복사해 줍니다.<br>
                #su - hadoop<br>
                #ssh-keygen -t rsa<br>
                #ssh-copy-id h1<br>
                #ssh-copy-id h2<br>
                #ssh-copy-id h3<br>
                #ssh-copy-id h4<br>
                &nbsp;&nbsp; <img src="3.수행평가-1/8.PNG" width="800" height="600">
                <br><br>
        </div>
        <br><br><br>


    <div class="subtitle">
            6. 하둡 설치하기</div>
        <br><br>
        <div class="info">
                1. wget 으로 하둡 압축 파일을 받아와서 압축 해제 <br>
                &nbsp;&nbsp; <img src="3.수행평가-1/11.PNG" width="800" height="600">
                <br><br>
                2. 압축파일 삭제해주고, chmod775로 권한 변경
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/12.PNG" width="800" height="600">
                <br><br>
                3. vi ~/.bashrc 접속
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/13.PNG" width="800" height="600">
                <br><br>
                4. 아래 내용 삽입<br>
                export HADOOP_HOME=/home/hadoop/hadoop-2.6.5<br>
                export HADOOP_INSTALL=$HADOOP_HOME<br>
                export HADOOP_MAPRED_HOME=$HADOOP_HOME<br>
                export HADOOP_COMMON_HOME=$HADOOP_HOME<br>
                export HADOOP_HDFS_HOME=$HADOOP_HOME<br>
                export YARN_HOME=$HADOOP_HOME<br>
                export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native<br>
                export PATH=$PATH:$HADOOP_HOME/sbin:$HADOOP_HOME/bin<br>
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/14.PNG" width="800" height="600">
                <br><br>
                5. #source ~/.bashrc 로 적용해주기
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/15.PNG" width="800" height="600">
                <br><br>
                6. 하둡 slaves, master에 echo 명령어로 호스트이름 삽입.<br>
                &nbsp;echo h2 > $HADOOP_HOME/etc/hadoop/slaves<br>
                &nbsp;echo h3 >> $HADOOP_HOME/etc/hadoop/slaves<br>
                &nbsp;echo h4 >> $HADOOP_HOME/etc/hadoop/slaves<br>
                &nbsp;echo h1 > $HADOOP_HOME/etc/hadoop/masters<br>
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/16.PNG" width="800" height="600">
                <br><br>
                7. #vi $HADOOP_HOME/etc/hadoop/core-site.xml 
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/17.PNG" width="600" height="100">
                <br><br>
                8. configuration을 아래와 같이 수정
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/18.PNG" width="800" height="600">
                <br><br>
                9. configuration을 아래와 같이 수정
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/18.PNG" width="800" height="600">
                <br><br>
                10. configuration을 아래와 같이 수정
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/19.PNG" width="800" height="600">
                <br><br>
                11. #vi $HADOOP_HOME/etc/hadoop/core-site.xml와 같이<br>
                &nbsp;#vi $HADOOP_HOME/etc/hadoop/hdfs-site.xml<br>
                &nbsp;#vi $HADOOP_HOME/etc/hadoop/mapred-site.xml <br>
                &nbsp;#vi $HADOOP_HOME/etc/hadoop/yarn-site.xml <br>
                를 각각 아래와 같이 변경 
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/18.PNG" width="800" height="600">
                <br><br>
                12. hdfs-site.xml의 configuration을 아래와 같이 수정
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/20.PNG" width="800" height="600">
                <br><br>
                13. mapred-site.xml을 아래와 같이 수정
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/21.PNG" width="800" height="600">
                <br><br>
                14. yarn-site.xml을 아래와 같이 수정
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/22.PNG" width="800" height="600">
                <br><br>

                &nbsp;&nbsp;&nbsp;&nbsp;<font size=5px; color="red"><strong>하둡 설치 완성~</strong></font>
              
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/23.PNG" width="800" height="600">
                <br><br>
                &nbsp;&nbsp; <img src="3.수행평가-1/24.PNG" width="800" height="600">
                <br><br>







        </div>













</body>
</html>
